!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/mouse"],t):t(jQuery)}(function(u){function c(t,o){if(!(1<t.originalEvent.touches.length)){var e=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");u(e.target).is("input")||u(e.target).is("textarea")?t.stopPropagation():t.preventDefault(),n.initMouseEvent(o,!0,!0,window,1,e.screenX,e.screenY,e.clientX+u(window).scrollLeft(),e.clientY+u(window).scrollTop(),!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(u.support.touch="ontouchend"in document||"onpointerdown"in document||"onMSPointerDown"in document,u.support.touch){var i,n,t=u.ui.mouse.prototype,o=t._mouseInit,e=t._mouseDestroy;return t._touchStart=function(t){var o=this,e=t.originalEvent.changedTouches[0];o._touchMoved=!1,o._touchStartTime=(new Date).getTime(),o._touchStartX=e.clientX,o._touchStartY=e.clientY,!i&&o._mouseCapture(e)&&(i=!0,c(t,"mouseover"),c(t,"mousemove"),c(t,"mousedown"),n=setTimeout(function(){o._touchMoved||(t.longTap=!0,o._touchEnd(t))},750))},t._touchMove=function(t){if(i){var o=t.originalEvent.changedTouches[0],e=(new Date).getTime()-this._touchStartTime,n=Math.abs(o.clientX-this._touchStartX),u=Math.abs(o.clientY-this._touchStartY);(150<e||5<n||5<u)&&(this._touchMoved=!0),c(t,"mousemove")}},t._touchEnd=function(t){i&&(c(t,"mouseup"),c(t,"mouseout"),this._touchMoved||(t.longTap?c(t,"contextmenu"):c(t,"click")),clearTimeout(n),i=!1)},t._mouseInit=function(){var t=this;t.element.on({touchstart:u.proxy(t,"_touchStart"),touchmove:u.proxy(t,"_touchMove"),touchend:u.proxy(t,"_touchEnd")}),navigator.userAgent.match("MSIE")&&t.element.css("-ms-touch-action","none"),o.call(t)},t._mouseDestroy=function(){var t=this;t.element.off({touchstart:u.proxy(t,"_touchStart"),touchmove:u.proxy(t,"_touchMove"),touchend:u.proxy(t,"_touchEnd")}),e.call(t)},u}});